@using Deepo.Client.Web.Dto

@if (this.IsVisible && _releasesFetchResult == null)
{
    <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="my-7" />
}
else if (_releasesFetchResult != null && _releasesFetchResult.IsFailed)
{
    <MudText> @this.Localizer["Oops"]</MudText>
}
else if (this.IsVisible && _releasesFetchResult != null && _releasesFetchResult.Content != null && _releasesFetchResult.Content.Any())
{
    <MudGrid Class="mt-2" Justify="Justify.FlexEnd">
        <MudItem>
            <MudSelect FitContent=true Margin=Margin.Dense Variant=Variant.Outlined Label="@Localizer["Genre"]" SelectedValuesChanged=OnSelectedGenresChanged SelectAll="true" SelectAllText="@Localizer["SelectAllGenres"]" T=GenreDto  MultiSelection=true Clearable=true>
                @if (_genreFetchResult?.Content != null)
                {
                    @foreach (GenreDto genre in _genreFetchResult.Content)
                    {
                        <MudSelectItem T="GenreDto" Value="@genre">@genre</MudSelectItem>
                    }
                }
            </MudSelect>
        </MudItem>
    </MudGrid>
    <MudFlexBreak />

    @foreach (ReleaseVinylDto release in _releasesFiltered)
    {
        <ReleasesVinylGridItem Item="release" />
    }
}